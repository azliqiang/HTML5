<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>jQuery Mobile Web 应用程序</title>
<link href="jquery.mobile-1.0.min.css" rel="stylesheet" type="text/css"/>
<script src="jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="jquery.mobile-1.0.min.js" type="text/javascript"></script>
</head> 
<script>
function talk(obj)
{
	var name = obj.children[1];
	
	document.getElementById("docname").innerHTML = "与"+name.innerHTML+"聊天中";
	
	var img = obj.children[0];
	
	document.getElementById("docimg").src = img.src;
}

function send()
{
	var input = document.getElementById("inputlable");
	
	if(input.value != "")
	{
		var massagebox = document.createElement("div");
	
		massagebox.setAttribute("class","massagebox");
	
		var img = document.createElement("img");
	
		img.src = "me.png";
	
		img.setAttribute("class","meimg");
	
		massagebox.appendChild(img);
	
		var lable = document.createElement("p");
	
		lable.setAttribute("class","massage");
	
		lable.innerHTML = input.value;
	
		massagebox.appendChild(lable);
	
		var content = document.getElementById("talkcontent");
	
		content.appendChild(massagebox);
	
		//插入医生说的话
		var docimg = document.getElementById("docimg");
	
		massagebox = document.createElement("div");
	
		massagebox.setAttribute("class","massagebox");
	
		content.appendChild(massagebox);
	
		img = document.createElement("img");
	
		img.src = docimg.src;
	
		img.setAttribute("class","docimg");
	
		massagebox.appendChild(img);
	
		var docmassage = document.createElement("p");
	
		docmassage.setAttribute("class","docmassage");
	
		docmassage.innerHTML = "哈哈哈哈！活该！";
	
		massagebox.appendChild(docmassage);
	}
}

</script>
<style>

.massagebox{
	width:100%;
	height:50px;
	position:relative;
}
.meimg{
	position:absolute;
	width:30px;
	height:30px;
	right:0px;
}
.massage{
	height:30px;
	text-align:right;
	position:absolute;
	right:30px;
	top:-10px;
	color:#000;
	font-weight:bolder;
}
.docimg{
	position:absolute;
	width:30px;
	height:30px;
	left:0px;
}
.docmassage{
	height:30px;
	text-align:left;
	position:absolute;
	left:30px;
	top:-10px;
	color:#00F;
	font-weight:bolder;
}
</style>
<body> 

<div data-role="page" id="pageone">
	<div data-role="header" data-position="fixed">
    	<h1>在线专家</h1>
    </div>
    <ul data-role="listview">
    	<li>
        	<a onClick="talk(this)" href="#pagetwo">
            	<img src="2.jpg" width="50px" height="50px" style="margin-left:15px; margin-top:15px;">
            	<h2>张医生</h2>
                <p>五十年老中医，专治疑难杂症.</p>
            </a>
        </li>
        <li>
        	<a onClick="talk(this)" href="#pagetwo">
            <img src="7.jpg" width="50px" height="50px" style="margin-left:15px; margin-top:15px;">
            	<h2>欧阳医生</h2>
                <p>兽医出身，专业！</p>
            </a>
        </li>
    </ul>
</div>

<div data-role="page" id="pagetwo">
	<div data-role="header" data-position="fixed">
    	<h1 id="docname"></h1>
        <a data-role="button" data-rel="back">返回</a>
    </div>
    <div data-role="content" id="talkcontent">
    	<img id="docimg" style="display:none;">
    </div>
    <div data-role="footer" data-position="fixed">
    	<input id="inputlable" style="width:80%; background:#CCC; float:left; color:#000; font-weight:bolder;">
        <a data-role="button" style="width:15%;" onClick="send()">发送</a>
    </div>
</div>

</body>
</html>
